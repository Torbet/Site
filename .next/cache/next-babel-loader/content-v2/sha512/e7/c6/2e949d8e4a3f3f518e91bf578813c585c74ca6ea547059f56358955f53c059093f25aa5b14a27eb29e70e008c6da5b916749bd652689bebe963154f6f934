{"ast":null,"code":"import matter from 'gray-matter';\nexport function formatDate(date) {\n  var splitDate = date.split('-');\n  var month = splitDate[1] - 1;\n  const options = {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  };\n  const today = new Date(splitDate[2], month, splitDate[0]);\n  return today.toLocaleDateString(\"en-US\", options);\n}\n\nfunction getDate(date) {\n  var splitDate = date.split('-');\n  var month = splitDate[1] - 1;\n  return new Date(splitDate[2], month, splitDate[0]);\n}\n\nexport async function getPosts() {\n  const context = require.context('../posts', false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      slug: post.replace('.md', ''),\n      title: meta.data.title,\n      date: meta.data.date,\n      description: meta.data.description\n    });\n  }\n\n  var sorted = posts.sort((a, b) => getDate(b.date) - getDate(a.date));\n  return sorted;\n}\nexport async function getPostBySlug(slug) {\n  const fileContent = await import(`../posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const post = meta.data;\n  const content = meta.content;\n  return {\n    title: post.title,\n    date: post.date,\n    description: post.description,\n    slug: slug,\n    content: content\n  };\n}","map":{"version":3,"sources":["/Users/guy/Development/Web/Site/api/index.js"],"names":["matter","formatDate","date","splitDate","split","month","options","day","year","today","Date","toLocaleDateString","getDate","getPosts","context","require","posts","key","keys","post","slice","content","meta","default","push","slug","replace","title","data","description","sorted","sort","a","b","getPostBySlug","fileContent"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AAEA,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AAC7B,MAAIC,SAAS,GAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAhB;AACA,MAAIC,KAAK,GAAGF,SAAS,CAAC,CAAD,CAAT,GAAe,CAA3B;AAEA,QAAMG,OAAO,GAAG;AAAEC,IAAAA,GAAG,EAAE,SAAP;AAAkBF,IAAAA,KAAK,EAAE,MAAzB;AAAiCG,IAAAA,IAAI,EAAE;AAAvC,GAAhB;AACA,QAAMC,KAAK,GAAG,IAAIC,IAAJ,CAASP,SAAS,CAAC,CAAD,CAAlB,EAAuBE,KAAvB,EAA8BF,SAAS,CAAC,CAAD,CAAvC,CAAd;AAEA,SAAOM,KAAK,CAACE,kBAAN,CAAyB,OAAzB,EAAkCL,OAAlC,CAAP;AACH;;AAED,SAASM,OAAT,CAAiBV,IAAjB,EAAuB;AACnB,MAAIC,SAAS,GAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAhB;AACA,MAAIC,KAAK,GAAGF,SAAS,CAAC,CAAD,CAAT,GAAe,CAA3B;AAEA,SAAO,IAAIO,IAAJ,CAASP,SAAS,CAAC,CAAD,CAAlB,EAAuBE,KAAvB,EAA8BF,SAAS,CAAC,CAAD,CAAvC,CAAP;AACH;;AAED,OAAO,eAAeU,QAAf,GAA0B;AAC7B,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,UAAhB,EAA4B,KAA5B,EAAmC,OAAnC,CAAhB;;AACA,QAAME,KAAK,GAAG,EAAd;;AACA,OAAK,MAAMC,GAAX,IAAkBH,OAAO,CAACI,IAAR,EAAlB,EAAkC;AAC9B,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACA,UAAMC,OAAO,GAAG,MAAM,OAAQ,YAAWF,IAAK,EAAxB,CAAtB;AACA,UAAMG,IAAI,GAAGtB,MAAM,CAACqB,OAAO,CAACE,OAAT,CAAnB;AACAP,IAAAA,KAAK,CAACQ,IAAN,CAAW;AACPC,MAAAA,IAAI,EAAEN,IAAI,CAACO,OAAL,CAAa,KAAb,EAAmB,EAAnB,CADC;AAEPC,MAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KAFV;AAGPzB,MAAAA,IAAI,EAAEoB,IAAI,CAACM,IAAL,CAAU1B,IAHT;AAIP2B,MAAAA,WAAW,EAAEP,IAAI,CAACM,IAAL,CAAUC;AAJhB,KAAX;AAMH;;AACD,MAAIC,MAAM,GAAGd,KAAK,CAACe,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUrB,OAAO,CAACqB,CAAC,CAAC/B,IAAH,CAAP,GAAkBU,OAAO,CAACoB,CAAC,CAAC9B,IAAH,CAA9C,CAAb;AACA,SAAO4B,MAAP;AACH;AACD,OAAO,eAAeI,aAAf,CAA6BT,IAA7B,EAAkC;AACrC,QAAMU,WAAW,GAAG,MAAM,OAAQ,YAAWV,IAAK,KAAxB,CAA1B;AACA,QAAMH,IAAI,GAAGtB,MAAM,CAACmC,WAAW,CAACZ,OAAb,CAAnB;AACA,QAAMJ,IAAI,GAAGG,IAAI,CAACM,IAAlB;AACA,QAAMP,OAAO,GAAGC,IAAI,CAACD,OAArB;AACA,SAAO;AACHM,IAAAA,KAAK,EAAER,IAAI,CAACQ,KADT;AAEHzB,IAAAA,IAAI,EAAEiB,IAAI,CAACjB,IAFR;AAGH2B,IAAAA,WAAW,EAAEV,IAAI,CAACU,WAHf;AAIHJ,IAAAA,IAAI,EAAEA,IAJH;AAKHJ,IAAAA,OAAO,EAAEA;AALN,GAAP;AAOH","sourcesContent":["import matter from 'gray-matter'\n\nexport function formatDate(date) {\n    var splitDate = date.split('-');\n    var month = splitDate[1] - 1;\n\n    const options = { day: 'numeric', month: 'long', year: 'numeric' };\n    const today = new Date(splitDate[2], month, splitDate[0]);\n\n    return today.toLocaleDateString(\"en-US\", options);\n}\n\nfunction getDate(date) {\n    var splitDate = date.split('-');\n    var month = splitDate[1] - 1;\n\n    return new Date(splitDate[2], month, splitDate[0]);\n}\n\nexport async function getPosts() {\n    const context = require.context('../posts', false, /\\.md$/)\n    const posts = []\n    for (const key of context.keys()) {\n        const post = key.slice(2);\n        const content = await import(`../posts/${post}`);\n        const meta = matter(content.default)\n        posts.push({\n            slug: post.replace('.md',''),\n            title: meta.data.title,\n            date: meta.data.date,\n            description: meta.data.description,\n        })\n    }\n    var sorted = posts.sort((a, b) => getDate(b.date) - getDate(a.date))\n    return sorted\n}\nexport async function getPostBySlug(slug){\n    const fileContent = await import(`../posts/${slug}.md`)\n    const meta = matter(fileContent.default)\n    const post = meta.data\n    const content = meta.content\n    return {\n        title: post.title,\n        date: post.date,\n        description: post.description,\n        slug: slug,\n        content: content,\n    }\n}"]},"metadata":{},"sourceType":"module"}